"use strict";var nn=Object.create;var Ae=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var an=Object.getOwnPropertyNames;var ln=Object.getPrototypeOf,cn=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),un=(t,e)=>{for(var r in e)Ae(t,r,{get:e[r],enumerable:!0})},At=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of an(e))!cn.call(t,n)&&n!==r&&Ae(t,n,{get:()=>e[n],enumerable:!(s=on(e,n))||s.enumerable});return t};var ne=(t,e,r)=>(r=t!=null?nn(ln(t)):{},At(e||!t||!t.__esModule?Ae(r,"default",{value:t,enumerable:!0}):r,t)),hn=t=>At(Ae({},"__esModule",{value:!0}),t);var pe=E((Ka,jt)=>{var An="2.0.0",On=Number.MAX_SAFE_INTEGER||9007199254740991,Ln=16,bn=256-6,Cn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];jt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Ln,MAX_SAFE_BUILD_LENGTH:bn,MAX_SAFE_INTEGER:On,RELEASE_TYPES:Cn,SEMVER_SPEC_VERSION:An,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var me=E((Wa,Vt)=>{var Nn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Vt.exports=Nn});var oe=E((M,Gt)=>{var{MAX_SAFE_COMPONENT_LENGTH:Le,MAX_SAFE_BUILD_LENGTH:Dn}=pe(),Pn=me();M=Gt.exports={};var _n=M.re=[],qn=M.safeRe=[],m=M.src=[],g=M.t={},jn=0,Ke="[a-zA-Z0-9-]",Vn=[["\\s",1],["\\d",Le],[Ke,Dn]],Gn=t=>{for(let[e,r]of Vn)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},I=(t,e,r)=>{let s=Gn(e),n=jn++;Pn(t,n,e),g[t]=n,m[n]=e,_n[n]=new RegExp(e,r?"g":void 0),qn[n]=new RegExp(s,r?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*");I("NUMERICIDENTIFIERLOOSE","\\d+");I("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ke}*`);I("MAINVERSION",`(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})`);I("MAINVERSIONLOOSE",`(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})`);I("PRERELEASEIDENTIFIER",`(?:${m[g.NUMERICIDENTIFIER]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASEIDENTIFIERLOOSE",`(?:${m[g.NUMERICIDENTIFIERLOOSE]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASE",`(?:-(${m[g.PRERELEASEIDENTIFIER]}(?:\\.${m[g.PRERELEASEIDENTIFIER]})*))`);I("PRERELEASELOOSE",`(?:-?(${m[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[g.PRERELEASEIDENTIFIERLOOSE]})*))`);I("BUILDIDENTIFIER",`${Ke}+`);I("BUILD",`(?:\\+(${m[g.BUILDIDENTIFIER]}(?:\\.${m[g.BUILDIDENTIFIER]})*))`);I("FULLPLAIN",`v?${m[g.MAINVERSION]}${m[g.PRERELEASE]}?${m[g.BUILD]}?`);I("FULL",`^${m[g.FULLPLAIN]}$`);I("LOOSEPLAIN",`[v=\\s]*${m[g.MAINVERSIONLOOSE]}${m[g.PRERELEASELOOSE]}?${m[g.BUILD]}?`);I("LOOSE",`^${m[g.LOOSEPLAIN]}$`);I("GTLT","((?:<|>)?=?)");I("XRANGEIDENTIFIERLOOSE",`${m[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);I("XRANGEIDENTIFIER",`${m[g.NUMERICIDENTIFIER]}|x|X|\\*`);I("XRANGEPLAIN",`[v=\\s]*(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:${m[g.PRERELEASE]})?${m[g.BUILD]}?)?)?`);I("XRANGEPLAINLOOSE",`[v=\\s]*(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:${m[g.PRERELEASELOOSE]})?${m[g.BUILD]}?)?)?`);I("XRANGE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAIN]}$`);I("XRANGELOOSE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAINLOOSE]}$`);I("COERCE",`(^|[^\\d])(\\d{1,${Le}})(?:\\.(\\d{1,${Le}}))?(?:\\.(\\d{1,${Le}}))?(?:$|[^\\d])`);I("COERCERTL",m[g.COERCE],!0);I("LONETILDE","(?:~>?)");I("TILDETRIM",`(\\s*)${m[g.LONETILDE]}\\s+`,!0);M.tildeTrimReplace="$1~";I("TILDE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAIN]}$`);I("TILDELOOSE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAINLOOSE]}$`);I("LONECARET","(?:\\^)");I("CARETTRIM",`(\\s*)${m[g.LONECARET]}\\s+`,!0);M.caretTrimReplace="$1^";I("CARET",`^${m[g.LONECARET]}${m[g.XRANGEPLAIN]}$`);I("CARETLOOSE",`^${m[g.LONECARET]}${m[g.XRANGEPLAINLOOSE]}$`);I("COMPARATORLOOSE",`^${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]})$|^$`);I("COMPARATOR",`^${m[g.GTLT]}\\s*(${m[g.FULLPLAIN]})$|^$`);I("COMPARATORTRIM",`(\\s*)${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]}|${m[g.XRANGEPLAIN]})`,!0);M.comparatorTrimReplace="$1$2$3";I("HYPHENRANGE",`^\\s*(${m[g.XRANGEPLAIN]})\\s+-\\s+(${m[g.XRANGEPLAIN]})\\s*$`);I("HYPHENRANGELOOSE",`^\\s*(${m[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[g.XRANGEPLAINLOOSE]})\\s*$`);I("STAR","(<|>)?=?\\s*\\*");I("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");I("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var be=E((Ya,kt)=>{var kn=Object.freeze({loose:!0}),Fn=Object.freeze({}),Mn=t=>t?typeof t!="object"?kn:t:Fn;kt.exports=Mn});var We=E((Ja,Ut)=>{var Ft=/^[0-9]+$/,Mt=(t,e)=>{let r=Ft.test(t),s=Ft.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},Un=(t,e)=>Mt(e,t);Ut.exports={compareIdentifiers:Mt,rcompareIdentifiers:Un}});var L=E((Za,zt)=>{var Ce=me(),{MAX_LENGTH:Xt,MAX_SAFE_INTEGER:Ne}=pe(),{safeRe:Bt,t:Ht}=oe(),Xn=be(),{compareIdentifiers:ae}=We(),Ye=class t{constructor(e,r){if(r=Xn(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Xt)throw new TypeError(`version is longer than ${Xt} characters`);Ce("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?Bt[Ht.LOOSE]:Bt[Ht.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ne||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ne||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ne||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let i=+n;if(i>=0&&i<Ne)return i}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ce("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ae(this.major,e.major)||ae(this.minor,e.minor)||ae(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],n=e.prerelease[r];if(Ce("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ae(s,n)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let s=this.build[r],n=e.build[r];if(Ce("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ae(s,n)}while(++r)}inc(e,r,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(s)?1:0;if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let i=[r,n];s===!1&&(i=[r]),ae(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};zt.exports=Ye});var Z=E((Qa,Wt)=>{var Kt=L(),Bn=(t,e,r=!1)=>{if(t instanceof Kt)return t;try{return new Kt(t,e)}catch(s){if(!r)return null;throw s}};Wt.exports=Bn});var Jt=E((el,Yt)=>{var Hn=Z(),zn=(t,e)=>{let r=Hn(t,e);return r?r.version:null};Yt.exports=zn});var Qt=E((tl,Zt)=>{var Kn=Z(),Wn=(t,e)=>{let r=Kn(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Zt.exports=Wn});var rr=E((rl,tr)=>{var er=L(),Yn=(t,e,r,s,n)=>{typeof r=="string"&&(n=s,s=r,r=void 0);try{return new er(t instanceof er?t.version:t,r).inc(e,s,n).version}catch{return null}};tr.exports=Yn});var ir=E((sl,nr)=>{var sr=Z(),Jn=(t,e)=>{let r=sr(t,null,!0),s=sr(e,null,!0),n=r.compare(s);if(n===0)return null;let i=n>0,a=i?r:s,h=i?s:r,o=!!a.prerelease.length;if(!!h.prerelease.length&&!o)return!h.patch&&!h.minor?"major":a.patch?"patch":a.minor?"minor":"major";let c=o?"pre":"";return r.major!==s.major?c+"major":r.minor!==s.minor?c+"minor":r.patch!==s.patch?c+"patch":"prerelease"};nr.exports=Jn});var ar=E((nl,or)=>{var Zn=L(),Qn=(t,e)=>new Zn(t,e).major;or.exports=Qn});var cr=E((il,lr)=>{var ei=L(),ti=(t,e)=>new ei(t,e).minor;lr.exports=ti});var hr=E((ol,ur)=>{var ri=L(),si=(t,e)=>new ri(t,e).patch;ur.exports=si});var pr=E((al,fr)=>{var ni=Z(),ii=(t,e)=>{let r=ni(t,e);return r&&r.prerelease.length?r.prerelease:null};fr.exports=ii});var j=E((ll,gr)=>{var mr=L(),oi=(t,e,r)=>new mr(t,r).compare(new mr(e,r));gr.exports=oi});var Er=E((cl,dr)=>{var ai=j(),li=(t,e,r)=>ai(e,t,r);dr.exports=li});var Ir=E((ul,vr)=>{var ci=j(),ui=(t,e)=>ci(t,e,!0);vr.exports=ui});var De=E((hl,Rr)=>{var xr=L(),hi=(t,e,r)=>{let s=new xr(t,r),n=new xr(e,r);return s.compare(n)||s.compareBuild(n)};Rr.exports=hi});var Tr=E((fl,yr)=>{var fi=De(),pi=(t,e)=>t.sort((r,s)=>fi(r,s,e));yr.exports=pi});var $r=E((pl,wr)=>{var mi=De(),gi=(t,e)=>t.sort((r,s)=>mi(s,r,e));wr.exports=gi});var ge=E((ml,Sr)=>{var di=j(),Ei=(t,e,r)=>di(t,e,r)>0;Sr.exports=Ei});var Pe=E((gl,Ar)=>{var vi=j(),Ii=(t,e,r)=>vi(t,e,r)<0;Ar.exports=Ii});var Je=E((dl,Or)=>{var xi=j(),Ri=(t,e,r)=>xi(t,e,r)===0;Or.exports=Ri});var Ze=E((El,Lr)=>{var yi=j(),Ti=(t,e,r)=>yi(t,e,r)!==0;Lr.exports=Ti});var _e=E((vl,br)=>{var wi=j(),$i=(t,e,r)=>wi(t,e,r)>=0;br.exports=$i});var qe=E((Il,Cr)=>{var Si=j(),Ai=(t,e,r)=>Si(t,e,r)<=0;Cr.exports=Ai});var Qe=E((xl,Nr)=>{var Oi=Je(),Li=Ze(),bi=ge(),Ci=_e(),Ni=Pe(),Di=qe(),Pi=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Oi(t,r,s);case"!=":return Li(t,r,s);case">":return bi(t,r,s);case">=":return Ci(t,r,s);case"<":return Ni(t,r,s);case"<=":return Di(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};Nr.exports=Pi});var Pr=E((Rl,Dr)=>{var _i=L(),qi=Z(),{safeRe:je,t:Ve}=oe(),ji=(t,e)=>{if(t instanceof _i)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(je[Ve.COERCE]);else{let s;for(;(s=je[Ve.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||s.index+s[0].length!==r.index+r[0].length)&&(r=s),je[Ve.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;je[Ve.COERCERTL].lastIndex=-1}return r===null?null:qi(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Dr.exports=ji});var qr=E((yl,_r)=>{"use strict";_r.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Vr=E((Tl,jr)=>{"use strict";jr.exports=x;x.Node=Q;x.create=x;function x(t){var e=this;if(e instanceof x||(e=new x),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}x.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};x.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};x.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};x.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Gi(this,arguments[t]);return this.length};x.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ki(this,arguments[t]);return this.length};x.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};x.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};x.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next};x.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev};x.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};x.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};x.prototype.map=function(t,e){e=e||this;for(var r=new x,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r};x.prototype.mapReverse=function(t,e){e=e||this;for(var r=new x,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r};x.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)r=t(r,s.value,n),s=s.next;return r};x.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)r=t(r,s.value,n),s=s.prev;return r};x.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};x.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};x.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new x;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)r.push(n.value);return r};x.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new x;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>t;s--,n=n.prev)r.push(n.value);return r};x.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(var i=[],s=0;n&&s<e;s++)i.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<r.length;s++)n=Vi(this,n,r[s]);return i};x.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function Vi(t,e,r){var s=e===t.head?new Q(r,null,e,t):new Q(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function Gi(t,e){t.tail=new Q(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ki(t,e){t.head=new Q(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Q(t,e,r,s){if(!(this instanceof Q))return new Q(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{qr()(x)}catch{}});var Ur=E((wl,Mr)=>{"use strict";var Fi=Vr(),ee=Symbol("max"),X=Symbol("length"),le=Symbol("lengthCalculator"),Ee=Symbol("allowStale"),te=Symbol("maxAge"),U=Symbol("dispose"),Gr=Symbol("noDisposeOnSet"),S=Symbol("lruList"),G=Symbol("cache"),Fr=Symbol("updateAgeOnGet"),et=()=>1,rt=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[ee]=e.max||1/0,s=e.length||et;if(this[le]=typeof s!="function"?et:s,this[Ee]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[te]=e.maxAge||0,this[U]=e.dispose,this[Gr]=e.noDisposeOnSet||!1,this[Fr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ee]=e||1/0,de(this)}get max(){return this[ee]}set allowStale(e){this[Ee]=!!e}get allowStale(){return this[Ee]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[te]=e,de(this)}get maxAge(){return this[te]}set lengthCalculator(e){typeof e!="function"&&(e=et),e!==this[le]&&(this[le]=e,this[X]=0,this[S].forEach(r=>{r.length=this[le](r.value,r.key),this[X]+=r.length})),de(this)}get lengthCalculator(){return this[le]}get length(){return this[X]}get itemCount(){return this[S].length}rforEach(e,r){r=r||this;for(let s=this[S].tail;s!==null;){let n=s.prev;kr(this,e,s,r),s=n}}forEach(e,r){r=r||this;for(let s=this[S].head;s!==null;){let n=s.next;kr(this,e,s,r),s=n}}keys(){return this[S].toArray().map(e=>e.key)}values(){return this[S].toArray().map(e=>e.value)}reset(){this[U]&&this[S]&&this[S].length&&this[S].forEach(e=>this[U](e.key,e.value)),this[G]=new Map,this[S]=new Fi,this[X]=0}dump(){return this[S].map(e=>Ge(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[S]}set(e,r,s){if(s=s||this[te],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let n=s?Date.now():0,i=this[le](r,e);if(this[G].has(e)){if(i>this[ee])return ce(this,this[G].get(e)),!1;let o=this[G].get(e).value;return this[U]&&(this[Gr]||this[U](e,o.value)),o.now=n,o.maxAge=s,o.value=r,this[X]+=i-o.length,o.length=i,this.get(e),de(this),!0}let a=new st(e,r,i,n,s);return a.length>this[ee]?(this[U]&&this[U](e,r),!1):(this[X]+=a.length,this[S].unshift(a),this[G].set(e,this[S].head),de(this),!0)}has(e){if(!this[G].has(e))return!1;let r=this[G].get(e).value;return!Ge(this,r)}get(e){return tt(this,e,!0)}peek(e){return tt(this,e,!1)}pop(){let e=this[S].tail;return e?(ce(this,e),e.value):null}del(e){ce(this,this[G].get(e))}load(e){this.reset();let r=Date.now();for(let s=e.length-1;s>=0;s--){let n=e[s],i=n.e||0;if(i===0)this.set(n.k,n.v);else{let a=i-r;a>0&&this.set(n.k,n.v,a)}}}prune(){this[G].forEach((e,r)=>tt(this,r,!1))}},tt=(t,e,r)=>{let s=t[G].get(e);if(s){let n=s.value;if(Ge(t,n)){if(ce(t,s),!t[Ee])return}else r&&(t[Fr]&&(s.value.now=Date.now()),t[S].unshiftNode(s));return n.value}},Ge=(t,e)=>{if(!e||!e.maxAge&&!t[te])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[te]&&r>t[te]},de=t=>{if(t[X]>t[ee])for(let e=t[S].tail;t[X]>t[ee]&&e!==null;){let r=e.prev;ce(t,e),e=r}},ce=(t,e)=>{if(e){let r=e.value;t[U]&&t[U](r.key,r.value),t[X]-=r.length,t[G].delete(r.key),t[S].removeNode(e)}},st=class{constructor(e,r,s,n,i){this.key=e,this.value=r,this.length=s,this.now=n,this.maxAge=i||0}},kr=(t,e,r,s)=>{let n=r.value;Ge(t,n)&&(ce(t,r),t[Ee]||(n=void 0)),n&&e.call(s,n.value,n.key,t)};Mr.exports=rt});var V=E(($l,zr)=>{var nt=class t{constructor(e,r){if(r=Ui(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof it)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(s=>this.parseRange(s)).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Br(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&Yi(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&Ki)|(this.options.loose&&Wi))+":"+e,n=Xr.get(s);if(n)return n;let i=this.options.loose,a=i?D[b.HYPHENRANGELOOSE]:D[b.HYPHENRANGE];e=e.replace(a,oo(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(D[b.COMPARATORTRIM],Bi),y("comparator trim",e),e=e.replace(D[b.TILDETRIM],Hi),y("tilde trim",e),e=e.replace(D[b.CARETTRIM],zi),y("caret trim",e);let h=e.split(" ").map(u=>Ji(u,this.options)).join(" ").split(/\s+/).map(u=>io(u,this.options));i&&(h=h.filter(u=>(y("loose invalid filter",u,this.options),!!u.match(D[b.COMPARATORLOOSE])))),y("range list",h);let o=new Map,l=h.map(u=>new it(u,this.options));for(let u of l){if(Br(u))return[u];o.set(u.value,u)}o.size>1&&o.has("")&&o.delete("");let c=[...o.values()];return Xr.set(s,c),c}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>Hr(s,r)&&e.set.some(n=>Hr(n,r)&&s.every(i=>n.every(a=>i.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Xi(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(ao(this.set[r],e,this.options))return!0;return!1}};zr.exports=nt;var Mi=Ur(),Xr=new Mi({max:1e3}),Ui=be(),it=ve(),y=me(),Xi=L(),{safeRe:D,t:b,comparatorTrimReplace:Bi,tildeTrimReplace:Hi,caretTrimReplace:zi}=oe(),{FLAG_INCLUDE_PRERELEASE:Ki,FLAG_LOOSE:Wi}=pe(),Br=t=>t.value==="<0.0.0-0",Yi=t=>t.value==="",Hr=(t,e)=>{let r=!0,s=t.slice(),n=s.pop();for(;r&&s.length;)r=s.every(i=>n.intersects(i,e)),n=s.pop();return r},Ji=(t,e)=>(y("comp",t,e),t=eo(t,e),y("caret",t),t=Zi(t,e),y("tildes",t),t=ro(t,e),y("xrange",t),t=no(t,e),y("stars",t),t),C=t=>!t||t.toLowerCase()==="x"||t==="*",Zi=(t,e)=>t.trim().split(/\s+/).map(r=>Qi(r,e)).join(" "),Qi=(t,e)=>{let r=e.loose?D[b.TILDELOOSE]:D[b.TILDE];return t.replace(r,(s,n,i,a,h)=>{y("tilde",t,s,n,i,a,h);let o;return C(n)?o="":C(i)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:C(a)?o=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:h?(y("replaceTilde pr",h),o=`>=${n}.${i}.${a}-${h} <${n}.${+i+1}.0-0`):o=`>=${n}.${i}.${a} <${n}.${+i+1}.0-0`,y("tilde return",o),o})},eo=(t,e)=>t.trim().split(/\s+/).map(r=>to(r,e)).join(" "),to=(t,e)=>{y("caret",t,e);let r=e.loose?D[b.CARETLOOSE]:D[b.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(n,i,a,h,o)=>{y("caret",t,n,i,a,h,o);let l;return C(i)?l="":C(a)?l=`>=${i}.0.0${s} <${+i+1}.0.0-0`:C(h)?i==="0"?l=`>=${i}.${a}.0${s} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.0${s} <${+i+1}.0.0-0`:o?(y("replaceCaret pr",o),i==="0"?a==="0"?l=`>=${i}.${a}.${h}-${o} <${i}.${a}.${+h+1}-0`:l=`>=${i}.${a}.${h}-${o} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${h}-${o} <${+i+1}.0.0-0`):(y("no pr"),i==="0"?a==="0"?l=`>=${i}.${a}.${h}${s} <${i}.${a}.${+h+1}-0`:l=`>=${i}.${a}.${h}${s} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${h} <${+i+1}.0.0-0`),y("caret return",l),l})},ro=(t,e)=>(y("replaceXRanges",t,e),t.split(/\s+/).map(r=>so(r,e)).join(" ")),so=(t,e)=>{t=t.trim();let r=e.loose?D[b.XRANGELOOSE]:D[b.XRANGE];return t.replace(r,(s,n,i,a,h,o)=>{y("xRange",t,s,n,i,a,h,o);let l=C(i),c=l||C(a),u=c||C(h),f=u;return n==="="&&f&&(n=""),o=e.includePrerelease?"-0":"",l?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&f?(c&&(a=0),h=0,n===">"?(n=">=",c?(i=+i+1,a=0,h=0):(a=+a+1,h=0)):n==="<="&&(n="<",c?i=+i+1:a=+a+1),n==="<"&&(o="-0"),s=`${n+i}.${a}.${h}${o}`):c?s=`>=${i}.0.0${o} <${+i+1}.0.0-0`:u&&(s=`>=${i}.${a}.0${o} <${i}.${+a+1}.0-0`),y("xRange return",s),s})},no=(t,e)=>(y("replaceStars",t,e),t.trim().replace(D[b.STAR],"")),io=(t,e)=>(y("replaceGTE0",t,e),t.trim().replace(D[e.includePrerelease?b.GTE0PRE:b.GTE0],"")),oo=t=>(e,r,s,n,i,a,h,o,l,c,u,f,p)=>(C(s)?r="":C(n)?r=`>=${s}.0.0${t?"-0":""}`:C(i)?r=`>=${s}.${n}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,C(l)?o="":C(c)?o=`<${+l+1}.0.0-0`:C(u)?o=`<${l}.${+c+1}.0-0`:f?o=`<=${l}.${c}.${u}-${f}`:t?o=`<${l}.${c}.${+u+1}-0`:o=`<=${o}`,`${r} ${o}`.trim()),ao=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(y(t[s].semver),t[s].semver!==it.ANY&&t[s].semver.prerelease.length>0){let n=t[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var ve=E((Sl,Qr)=>{var Ie=Symbol("SemVer ANY"),lt=class t{static get ANY(){return Ie}constructor(e,r){if(r=Kr(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),at("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ie?this.value="":this.value=this.operator+this.semver.version,at("comp",this)}parse(e){let r=this.options.loose?Wr[Yr.COMPARATORLOOSE]:Wr[Yr.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Jr(s[2],this.options.loose):this.semver=Ie}toString(){return this.value}test(e){if(at("Comparator.test",e,this.options.loose),this.semver===Ie||e===Ie)return!0;if(typeof e=="string")try{e=new Jr(e,this.options)}catch{return!1}return ot(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Zr(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Zr(this.value,r).test(e.semver):(r=Kr(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ot(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ot(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Qr.exports=lt;var Kr=be(),{safeRe:Wr,t:Yr}=oe(),ot=Qe(),at=me(),Jr=L(),Zr=V()});var xe=E((Al,es)=>{var lo=V(),co=(t,e,r)=>{try{e=new lo(e,r)}catch{return!1}return e.test(t)};es.exports=co});var rs=E((Ol,ts)=>{var uo=V(),ho=(t,e)=>new uo(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));ts.exports=ho});var ns=E((Ll,ss)=>{var fo=L(),po=V(),mo=(t,e,r)=>{let s=null,n=null,i=null;try{i=new po(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!s||n.compare(a)===-1)&&(s=a,n=new fo(s,r))}),s};ss.exports=mo});var os=E((bl,is)=>{var go=L(),Eo=V(),vo=(t,e,r)=>{let s=null,n=null,i=null;try{i=new Eo(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!s||n.compare(a)===1)&&(s=a,n=new go(s,r))}),s};is.exports=vo});var cs=E((Cl,ls)=>{var ct=L(),Io=V(),as=ge(),xo=(t,e)=>{t=new Io(t,e);let r=new ct("0.0.0");if(t.test(r)||(r=new ct("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let n=t.set[s],i=null;n.forEach(a=>{let h=new ct(a.semver.version);switch(a.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!i||as(h,i))&&(i=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||as(r,i))&&(r=i)}return r&&t.test(r)?r:null};ls.exports=xo});var hs=E((Nl,us)=>{var Ro=V(),yo=(t,e)=>{try{return new Ro(t,e).range||"*"}catch{return null}};us.exports=yo});var ke=E((Dl,gs)=>{var To=L(),ms=ve(),{ANY:wo}=ms,$o=V(),So=xe(),fs=ge(),ps=Pe(),Ao=qe(),Oo=_e(),Lo=(t,e,r,s)=>{t=new To(t,s),e=new $o(e,s);let n,i,a,h,o;switch(r){case">":n=fs,i=Ao,a=ps,h=">",o=">=";break;case"<":n=ps,i=Oo,a=fs,h="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(So(t,e,s))return!1;for(let l=0;l<e.set.length;++l){let c=e.set[l],u=null,f=null;if(c.forEach(p=>{p.semver===wo&&(p=new ms(">=0.0.0")),u=u||p,f=f||p,n(p.semver,u.semver,s)?u=p:a(p.semver,f.semver,s)&&(f=p)}),u.operator===h||u.operator===o||(!f.operator||f.operator===h)&&i(t,f.semver))return!1;if(f.operator===o&&a(t,f.semver))return!1}return!0};gs.exports=Lo});var Es=E((Pl,ds)=>{var bo=ke(),Co=(t,e,r)=>bo(t,e,">",r);ds.exports=Co});var Is=E((_l,vs)=>{var No=ke(),Do=(t,e,r)=>No(t,e,"<",r);vs.exports=Do});var ys=E((ql,Rs)=>{var xs=V(),Po=(t,e,r)=>(t=new xs(t,r),e=new xs(e,r),t.intersects(e,r));Rs.exports=Po});var ws=E((jl,Ts)=>{var _o=xe(),qo=j();Ts.exports=(t,e,r)=>{let s=[],n=null,i=null,a=t.sort((c,u)=>qo(c,u,r));for(let c of a)_o(c,e,r)?(i=c,n||(n=c)):(i&&s.push([n,i]),i=null,n=null);n&&s.push([n,null]);let h=[];for(let[c,u]of s)c===u?h.push(c):!u&&c===a[0]?h.push("*"):u?c===a[0]?h.push(`<=${u}`):h.push(`${c} - ${u}`):h.push(`>=${c}`);let o=h.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return o.length<l.length?o:e}});var bs=E((Vl,Ls)=>{var $s=V(),ht=ve(),{ANY:ut}=ht,Re=xe(),ft=j(),jo=(t,e,r={})=>{if(t===e)return!0;t=new $s(t,r),e=new $s(e,r);let s=!1;e:for(let n of t.set){for(let i of e.set){let a=Go(n,i,r);if(s=s||a!==null,a)continue e}if(s)return!1}return!0},Vo=[new ht(">=0.0.0-0")],Ss=[new ht(">=0.0.0")],Go=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ut){if(e.length===1&&e[0].semver===ut)return!0;r.includePrerelease?t=Vo:t=Ss}if(e.length===1&&e[0].semver===ut){if(r.includePrerelease)return!0;e=Ss}let s=new Set,n,i;for(let p of t)p.operator===">"||p.operator===">="?n=As(n,p,r):p.operator==="<"||p.operator==="<="?i=Os(i,p,r):s.add(p.semver);if(s.size>1)return null;let a;if(n&&i){if(a=ft(n.semver,i.semver,r),a>0)return null;if(a===0&&(n.operator!==">="||i.operator!=="<="))return null}for(let p of s){if(n&&!Re(p,String(n),r)||i&&!Re(p,String(i),r))return null;for(let v of e)if(!Re(p,String(v),r))return!1;return!0}let h,o,l,c,u=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;u&&u.prerelease.length===1&&i.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of e){if(c=c||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",n){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(h=As(n,p,r),h===p&&h!==n)return!1}else if(n.operator===">="&&!Re(n.semver,String(p),r))return!1}if(i){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(o=Os(i,p,r),o===p&&o!==i)return!1}else if(i.operator==="<="&&!Re(i.semver,String(p),r))return!1}if(!p.operator&&(i||n)&&a!==0)return!1}return!(n&&l&&!i&&a!==0||i&&c&&!n&&a!==0||f||u)},As=(t,e,r)=>{if(!t)return e;let s=ft(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Os=(t,e,r)=>{if(!t)return e;let s=ft(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};Ls.exports=jo});var mt=E((Gl,Ds)=>{var pt=oe(),Cs=pe(),ko=L(),Ns=We(),Fo=Z(),Mo=Jt(),Uo=Qt(),Xo=rr(),Bo=ir(),Ho=ar(),zo=cr(),Ko=hr(),Wo=pr(),Yo=j(),Jo=Er(),Zo=Ir(),Qo=De(),ea=Tr(),ta=$r(),ra=ge(),sa=Pe(),na=Je(),ia=Ze(),oa=_e(),aa=qe(),la=Qe(),ca=Pr(),ua=ve(),ha=V(),fa=xe(),pa=rs(),ma=ns(),ga=os(),da=cs(),Ea=hs(),va=ke(),Ia=Es(),xa=Is(),Ra=ys(),ya=ws(),Ta=bs();Ds.exports={parse:Fo,valid:Mo,clean:Uo,inc:Xo,diff:Bo,major:Ho,minor:zo,patch:Ko,prerelease:Wo,compare:Yo,rcompare:Jo,compareLoose:Zo,compareBuild:Qo,sort:ea,rsort:ta,gt:ra,lt:sa,eq:na,neq:ia,gte:oa,lte:aa,cmp:la,coerce:ca,Comparator:ua,Range:ha,satisfies:fa,toComparators:pa,maxSatisfying:ma,minSatisfying:ga,minVersion:da,validRange:Ea,outside:va,gtr:Ia,ltr:xa,intersects:Ra,simplifyRange:ya,subset:Ta,SemVer:ko,re:pt.re,src:pt.src,tokens:pt.t,SEMVER_SPEC_VERSION:Cs.SEMVER_SPEC_VERSION,RELEASE_TYPES:Cs.RELEASE_TYPES,compareIdentifiers:Ns.compareIdentifiers,rcompareIdentifiers:Ns.rcompareIdentifiers}});var js=E((Ql,Me)=>{var $a=function(){"use strict";function t(c,u){return u!=null&&c instanceof u}var e;try{e=Map}catch{e=function(){}}var r;try{r=Set}catch{r=function(){}}var s;try{s=Promise}catch{s=function(){}}function n(c,u,f,p,v){typeof u=="object"&&(f=u.depth,p=u.prototype,v=u.includeNonEnumerable,u=u.circular);var $=[],F=[],N=typeof Buffer<"u";typeof u>"u"&&(u=!0),typeof f>"u"&&(f=1/0);function w(d,A){if(d===null)return null;if(A===0)return d;var R,z;if(typeof d!="object")return d;if(t(d,e))R=new e;else if(t(d,r))R=new r;else if(t(d,s))R=new s(function(ue,he){d.then(function(fe){ue(w(fe,A-1))},function(fe){he(w(fe,A-1))})});else if(n.__isArray(d))R=[];else if(n.__isRegExp(d))R=new RegExp(d.source,l(d)),d.lastIndex&&(R.lastIndex=d.lastIndex);else if(n.__isDate(d))R=new Date(d.getTime());else{if(N&&Buffer.isBuffer(d))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(d.length):R=new Buffer(d.length),d.copy(R),R;t(d,Error)?R=Object.create(d):typeof p>"u"?(z=Object.getPrototypeOf(d),R=Object.create(z)):(R=Object.create(p),z=p)}if(u){var we=$.indexOf(d);if(we!=-1)return F[we];$.push(d),F.push(R)}t(d,e)&&d.forEach(function(ue,he){var fe=w(he,A-1),sn=w(ue,A-1);R.set(fe,sn)}),t(d,r)&&d.forEach(function(ue){var he=w(ue,A-1);R.add(he)});for(var _ in d){var Be;z&&(Be=Object.getOwnPropertyDescriptor(z,_)),!(Be&&Be.set==null)&&(R[_]=w(d[_],A-1))}if(Object.getOwnPropertySymbols)for(var $t=Object.getOwnPropertySymbols(d),_=0;_<$t.length;_++){var $e=$t[_],se=Object.getOwnPropertyDescriptor(d,$e);se&&!se.enumerable&&!v||(R[$e]=w(d[$e],A-1),se.enumerable||Object.defineProperty(R,$e,{enumerable:!1}))}if(v)for(var St=Object.getOwnPropertyNames(d),_=0;_<St.length;_++){var Se=St[_],se=Object.getOwnPropertyDescriptor(d,Se);se&&se.enumerable||(R[Se]=w(d[Se],A-1),Object.defineProperty(R,Se,{enumerable:!1}))}return R}return w(c,f)}n.clonePrototype=function(u){if(u===null)return null;var f=function(){};return f.prototype=u,new f};function i(c){return Object.prototype.toString.call(c)}n.__objToStr=i;function a(c){return typeof c=="object"&&i(c)==="[object Date]"}n.__isDate=a;function h(c){return typeof c=="object"&&i(c)==="[object Array]"}n.__isArray=h;function o(c){return typeof c=="object"&&i(c)==="[object RegExp]"}n.__isRegExp=o;function l(c){var u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),u}return n.__getRegExpFlags=l,n}();typeof Me=="object"&&Me.exports&&(Me.exports=$a)});var ks=E((Vs,Gs)=>{(function(){var t,e,r,s=[].splice,n=function(a,h){if(!(a instanceof h))throw new Error("Bound instance method accessed before binding")},i=[].indexOf;r=js(),t=require("events").EventEmitter,Gs.exports=e=function(){class a extends t{constructor(o={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=o,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(l=>{var c;c=this[l],this[l]=function(...u){var f,p,v,$;if(v=u,[...u]=v,[f]=s.call(u,-1),typeof f=="function")try{$=c(...u),f(null,$)}catch(F){p=F,f(p)}else return c(...u,f)}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}get(o){var l,c;if(n(this,a),(c=this._isInvalidKey(o))!=null)throw c;if(this.data[o]!=null&&this._check(o,this.data[o]))return this.stats.hits++,l=this._unwrap(this.data[o]),l;this.stats.misses++}mget(o){var l,c,u,f,p,v;if(n(this,a),!Array.isArray(o))throw l=this._error("EKEYSTYPE"),l;for(v={},u=0,p=o.length;u<p;u++){if(f=o[u],(c=this._isInvalidKey(f))!=null)throw c;this.data[f]!=null&&this._check(f,this.data[f])?(this.stats.hits++,v[f]=this._unwrap(this.data[f])):this.stats.misses++}return v}set(o,l,c){var u,f,p;if(n(this,a),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw u=this._error("ECACHEFULL"),u;if(this.options.forceString&&!1==="string"&&(l=JSON.stringify(l)),c==null&&(c=this.options.stdTTL),(f=this._isInvalidKey(o))!=null)throw f;return p=!1,this.data[o]&&(p=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[o],!1))),this.data[o]=this._wrap(l,c),this.stats.vsize+=this._getValLength(l),p||(this.stats.ksize+=this._getKeyLength(o),this.stats.keys++),this.emit("set",o,l),!0}mset(o){var l,c,u,f,p,v,$,F,N,w;if(n(this,a),this.options.maxKeys>-1&&this.stats.keys+o.length>=this.options.maxKeys)throw l=this._error("ECACHEFULL"),l;for(u=0,$=o.length;u<$;u++){if(v=o[u],{key:p,val:w,ttl:N}=v,N&&typeof N!="number")throw l=this._error("ETTLTYPE"),l;if((c=this._isInvalidKey(p))!=null)throw c}for(f=0,F=o.length;f<F;f++)v=o[f],{key:p,val:w,ttl:N}=v,this.set(p,w,N);return!0}del(o){var l,c,u,f,p,v;for(n(this,a),Array.isArray(o)||(o=[o]),l=0,u=0,p=o.length;u<p;u++){if(f=o[u],(c=this._isInvalidKey(f))!=null)throw c;this.data[f]!=null&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[f],!1)),this.stats.ksize-=this._getKeyLength(f),this.stats.keys--,l++,v=this.data[f],delete this.data[f],this.emit("del",f,v.v))}return l}take(o){var l;return n(this,a),l=this.get(o),l!=null&&this.del(o),l}ttl(o,l){var c;if(n(this,a),l||(l=this.options.stdTTL),!o)return!1;if((c=this._isInvalidKey(o))!=null)throw c;return this.data[o]!=null&&this._check(o,this.data[o])?(l>=0?this.data[o]=this._wrap(this.data[o].v,l,!1):this.del(o),!0):!1}getTtl(o){var l,c;if(n(this,a),!!o){if((c=this._isInvalidKey(o))!=null)throw c;if(this.data[o]!=null&&this._check(o,this.data[o]))return l=this.data[o].t,l}}keys(){var o;return n(this,a),o=Object.keys(this.data),o}has(o){var l;return n(this,a),l=this.data[o]!=null&&this._check(o,this.data[o]),l}getStats(){return n(this,a),this.stats}flushAll(o=!0){n(this,a),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(o),this.emit("flush")}flushStats(){n(this,a),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){n(this,a),this._killCheckPeriod()}_checkData(o=!0){var l,c,u;n(this,a),c=this.data;for(l in c)u=c[l],this._check(l,u);o&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,this.options.checkperiod*1e3,o),this.checkTimeout!=null&&this.checkTimeout.unref!=null&&this.checkTimeout.unref())}_killCheckPeriod(){if(this.checkTimeout!=null)return clearTimeout(this.checkTimeout)}_check(o,l){var c;return n(this,a),c=!0,l.t!==0&&l.t<Date.now()&&(this.options.deleteOnExpire&&(c=!1,this.del(o)),this.emit("expired",o,this._unwrap(l))),c}_isInvalidKey(o){var l;if(n(this,a),l=typeof o,i.call(this.validKeyTypes,l)<0)return this._error("EKEYTYPE",{type:typeof o})}_wrap(o,l,c=!0){var u,f,p,v;return n(this,a),this.options.useClones||(c=!1),f=Date.now(),u=0,v=1e3,l===0?u=0:l?u=f+l*v:this.options.stdTTL===0?u=this.options.stdTTL:u=f+this.options.stdTTL*v,p={t:u,v:c?r(o):o}}_unwrap(o,l=!0){return this.options.useClones||(l=!1),o.v!=null?l?r(o.v):o.v:null}_getKeyLength(o){return o.toString().length}_getValLength(o){return n(this,a),typeof o=="string"?o.length:this.options.forceString?JSON.stringify(o).length:Array.isArray(o)?this.options.arrayValueSize*o.length:typeof o=="number"?8:typeof o?.then=="function"?this.options.promiseValueSize:typeof Buffer<"u"&&Buffer!==null&&Buffer.isBuffer(o)?o.length:o!=null&&typeof o=="object"?this.options.objectValueSize*Object.keys(o).length:typeof o=="boolean"?8:0}_error(o,l={}){var c;return n(this,a),c=new Error,c.name=o,c.errorcode=o,c.message=this.ERRORS[o]!=null?this.ERRORS[o](l):"-",c.data=l,c}_initErrors(){var o,l,c;n(this,a),this.ERRORS={},c=this._ERRORS;for(l in c)o=c[l],this.ERRORS[l]=this.createErrorMessage(o)}createErrorMessage(o){return function(l){return o.replace("__key",l.type)}}}return a.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},a}.call(this)}).call(Vs)});var vt=E((Fs,Ms)=>{(function(){var t;t=Ms.exports=ks(),t.version="5.1.2"}).call(Fs)});var _a={};un(_a,{activate:()=>Da,deactivate:()=>Pa});module.exports=hn(_a);var H=require("vscode");var rn=require("vscode");var q=class{constructor(e){this.key="";this.values=[];this.value="";this.start=-1;this.end=-1;e&&(this.key=e.key,this.values=e.values,this.value=e.value,this.start=e.start,this.end=e.end)}};var Ot=/^[ \t]*(?<!#)(\S+?)([ \t]*=[ \t]*)(?:({.*?version[ \t]*=[ \t]*)("|')(.*?)\4|("|')(.*?)\6)/;var fn=/^[ \t]*(?!#)[ \t]*\[[ \t]*(.+?)[ \t]*\][ \t]*$/,pn=/^(?:.+?\.)?(?:dev-)?dependencies(?:\.([^.]+?))?$/;function Lt(t,e){for(;--e>=0;){let r=t.lineAt(e).text.match(fn);if(r)return r[1].match(pn)?.[1]}}function mn(t){let e=[];for(let r of t.values)if(!r.key.endsWith(".workspace"))if(r.values.length>0){let s=bt(r);s&&e.push(s)}else r.value!=null&&e.push(r);return e}function bt(t){let e=null,r=null;for(let s of t.values){if(s.key==="workspace")return null;s.key==="version"&&(e=new q(s),e.key=t.key),s.key==="package"&&(r=s.value)}return e&&r&&(e.key=r),e}function Ct(t){let e=[];for(let r=0;r<t.length;r++){let s=t[r];if(!s.key.startsWith("package.metadata")&&s.key.endsWith("dependencies"))e=e.concat(mn(s));else{let n=s.key.lastIndexOf("."),i=n-12;if(s.key.indexOf("dependencies")===i){let a=new q(s);a.key=s.key.substring(n+1);let h=bt(a);h&&e.push(h)}}}return e}function Nt(t){let e=new q;return e.start=0,e.end=t.length,gn(t,e),e}function gn(t,e){let r=new q,s=-1,n=[];for(;s++<t.length;){let i=t.charAt(s);Oe(i)||W(i)||(ze(i)?s=He(t,s):i==="["?(r=new q,r.start=s,n=[]):i==="]"?(r.key=n.join(""),s=Dt(t,r,s),r=K(r,e,s)):n.push(i))}return e}function Dt(t,e,r){let s=r,n=new q,i="",a=!0;for(;s++<t.length;){let h=t.charAt(s),o="";if(W(i)&&(o=vn(t,s)),i=h,!(Oe(h)||W(h)||_t(h)))if(ze(h)||wn(o)||$n(o))s=He(t,s);else if(a){if(h==="[")return--s;if(h==="}")return s;s=In(t,n,s),a=!1}else h==='"'||h==="'"?(s=Pt(t,n,s,h),n=K(n,e,s),a=!0):h==="["?(s=En(t,n,s),n=K(n,e,s),a=!0):h==="{"?(s=Dt(t,n,s),dn(n)||(n.start=-1),n=K(n,e,s),a=!0):yn(t,s)?(s=xn(t,n,s,h),n=K(n,e,s),a=!0):Tn(t,s)&&(s=Rn(t,n,s),n=K(n,e,s),a=!0)}return s}function dn(t){if(t.values&&t.values.length)for(let e of t.values){if(e.key==="git"||e.key==="path")return!1;e.key==="package"&&(t.key=e.value)}return!0}function En(t,e,r){let s=r,n=new q;for(;s++<t.length;){let i=t.charAt(s);if(!(Oe(i)||W(i)||_t(i))){if(ze(i))s=He(t,s);else if(i==='"'||i==="'")s=Pt(t,n,s,i),n=K(n,e,s);else if(i==="]")return s}}return s}function Pt(t,e,r,s){let n=r;e.start=r;let i=[],a=t.substring(n,n+3)===s.repeat(3);for(a&&(n+=2);n++<t.length;){let h=t.charAt(n);switch(h){case'"':case"'":if(h===s&&(!a||t.substring(n,n+3)===s.repeat(3)))return a&&(n+=2),e.value=i.join(""),e.end=n,n;default:i.push(h)}}return n}function He(t,e){let r=e;for(;r++<t.length;){let s=t.charAt(r);if(W(s))return r}return r}function vn(t,e){let r=e,s="";for(;r<t.length;){let n=t.charAt(r);if(W(n))return s;s+=n,r++}return s}function In(t,e,r){let s=r,n=[];for(e.start=r;s<t.length;){let i=t.charAt(s);if(i==="=")return e.key=n.join(""),s;Oe(i)||n.push(i),s++}return s}function xn(t,e,r,s){switch(t.charAt(r)){case"t":return e.value="true",r+3;case"f":return e.value="false",r+4;default:return r}}function Rn(t,e,r){let s=t.charAt(r);(s==="+"||s==="-")&&r++;let n=r;e.start=r;let i=[];for(;n<t.length;){let a=t.charAt(n);switch(a){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":i.push(a);break;default:if(W(a))return e.value=i.join(""),e.end=n,n}n++}return n}function K(t,e,r){return t.start!==-1&&(t.end=r+1,e.values.push(t)),new q}function Oe(t){return t===" "||t==="	"}function W(t){return t===`
`||t==="\r"}function _t(t){return t===","}function ze(t){return t==="#"}function yn(t,e){return t.substring(e,e+4)==="true"||t.substring(e,e+5)==="false"}function Tn(t,e){let r=t.charAt(e);return r==="+"||r==="-"?!0:parseInt(t.charAt(e),10)}function wn(t){return t.startsWith("<<<<<<<")||t.startsWith(">>>>>>>")||t.startsWith("=======")}function $n(t){return t.replace(/\s/g,"").endsWith("#crates:disable-check")}var ie=require("vscode"),T=ie.window.createStatusBarItem(ie.StatusBarAlignment.Right,0);T.setText=(t,e)=>{switch(t){case"Error":T.color="statusBarItem.errorForeground",T.text="$(error) Crates",T.tooltip="",ie.window.showErrorMessage(e||"Error");return;case"Warning":T.text="$(warning) Crates",T.color="statusBarItem.warningForeground";break;case"Info":T.color="statusBarItem.foreground",T.text="$(check-all) Crates";break;case"Loading":T.color="statusBarItem.activeForeground",T.text="$(sync~spin) Crates"}e&&ie.window.setStatusBarMessage(`Crates: ${e}`,2e3),T.tooltip=e,T.command="crates.retry"};var Y=require("vscode");var O={inProgress:!1,replaceItems:[]},Sn=Y.commands.registerTextEditorCommand("crates.replaceVersion",(t,e,r)=>{if(t&&r&&!O.inProgress){let{fileName:s}=t.document;s.toLocaleLowerCase().endsWith("cargo.toml")&&(O.inProgress=!0,console.log("Replacing",r.item),e.replace(new Y.Range(t.document.positionAt(r.start+1),t.document.positionAt(r.end-1)),r.item.substr(1,r.item.length-2)),O.inProgress=!1)}}),Ba=Y.commands.registerTextEditorCommand("crates.retry",(t,e,r)=>{t&&J(t)}),Ha=Y.commands.registerTextEditorCommand("crates.updateAll",(t,e)=>{if(t&&!O.inProgress&&O.replaceItems&&O.replaceItems.length>0&&t.document.fileName.toLocaleLowerCase().endsWith("cargo.toml")){O.inProgress=!0,console.log("Replacing All");for(let r=O.replaceItems.length-1;r>-1;r--){let s=O.replaceItems[r];e.replace(new Y.Range(t.document.positionAt(s.start),t.document.positionAt(s.end)),s.item)}O.inProgress=!1,t.document.save().then(r=>{r||t.document.save()})}}),qt={replaceVersion:Sn};var qs=require("vscode");var B=require("vscode");var Fe=ne(mt());function gt(t="0.0.0",e){let r=t,s=r.charCodeAt(0);s>47&&s<58&&(r="^"+r);let n=e[0];return[(0,Fe.satisfies)(n,r),(0,Fe.maxSatisfying)(e,t)]}var Ps=ne(mt()),_s=t=>B.window.createTextEditorDecorationType({after:{margin:"2em"}});function dt(t,e,r,s,n,i,a){let h=e.start,o=t.document.lineAt(t.document.positionAt(e.end)).range.end,l=e.end,c=e.value?.replace(",",""),[u,f]=gt(c,r),p=N=>{let w=N.split(`
`),d=new B.MarkdownString("#### Errors ");return d.appendMarkdown(`
`),w.filter(A=>A).forEach(A=>{d.appendMarkdown("* "),d.appendText(A.trim()),d.appendMarkdown(`
`)}),d},v=new B.MarkdownString,$="";if(a)v=p(a),$=i;else{v.appendMarkdown("#### Versions"),v.appendMarkdown(` _( [Check Reviews](https://web.crev.dev/rust-reviews/crate/${e.key.replace(/"/g,"")}) )_`),v.isTrusted=!0,r.length>0&&O.replaceItems.push({item:`"${r[0]}"`,start:h,end:l});for(let w=0;w<r.length;w++){let d=r[w],A={item:`"${d}"`,start:h,end:l},R=d===f,z=encodeURI(JSON.stringify(A)),we=w===0||R?`[(docs)](https://docs.rs/crate/${e.key.replace(/"/g,"")}/${d})`:"",_=`${R?"**":""}[${d}](command:crates.replaceVersion?${z})${we}${R?"**":""}`;v.appendMarkdown(`
 * `),v.appendMarkdown(_)}if(c=="?"){let d={item:`"${r[0]}"`,start:h,end:l};t.edit(A=>{A.replace(new B.Range(t.document.positionAt(d.start+1),t.document.positionAt(d.end-1)),d.item.substr(1,d.item.length-2))}),t.document.save()}let N=s.replace("${version}",r[0]);(0,Ps.validRange)(c)?r[0]!==f&&(u?N=s.replace("${version}",r[0]):N=n.replace("${version}",r[0])):N=i.replace("${version}",r[0]),$=N}let F={range:new B.Range(t.document.positionAt(h),o),hoverMessage:v,renderOptions:{after:{}}};return c!="?"&&$.length>0&&(F.renderOptions.after={contentText:$}),F}var re;function Et(t,e){let r=wa(),s=[],n=e.filter(a=>(a&&!a.error&&a.versions&&a.versions.length||(a.error||(a.error=a.item.key+": No versions found"),s.push(`${a.error}`)),a)),i=[];for(let a=n.length-1;a>-1;a--){let h=n[a];try{let o=dt(t,h.item,h.versions||[],r.compatibleDecorator,r.incompatibleDecorator,r.errorDecorator,h.error);o&&i.push(o)}catch(o){console.error(o),s.push(`Failed to build build decorator (${h.item.value})`)}}re&&re.dispose(),re=_s("VERSION"),t.setDecorations(re,i),s.length?T.setText("Error",`Completed with errors
${s.join(`
`)}`):T.setText("Info")}function wa(){let t=qs.workspace.getConfiguration(""),e=t.get("crates.compatibleDecorator")??"",r=t.get("crates.incompatibleDecorator")??"",s=t.get("crates.errorDecorator"),n=s?s+"":"";return{compatibleDecorator:e,incompatibleDecorator:r,errorDecorator:n}}var It=ne(require("https")),Us=ne(vt()),xt="https://index.crates.io",ye=new Us.default({stdTTL:60*10}),Rt=(t,e)=>(t=t.replace(/"/g,""),new Promise(function(r,s){let n=ye.get(t);if(n){r(n);return}var i,a=t.toLowerCase();a.length<=2?i=a.length:a.length==3?i="3/"+a.substring(0,1):i=a.substring(0,2)+"/"+a.substring(2,4);var h=It.get(`${e}/${i}/${a}`,function(o){if(!o.statusCode){s(new Error("statusCode="+o.statusCode));return}if(o.statusCode<200||o.statusCode>=300)return s(new Error("statusCode="+o.statusCode));var l,c=[];o.on("data",function(u){c.push(u)}),o.on("end",function(){try{var u=Buffer.concat(c).toString().split(`
`).filter(v=>v),f=[];for(var p of u)f.push(JSON.parse(p));l={name:t,versions:f.filter(v=>v.yanked===!1).map(v=>v.vers),features:Object.keys(f.at(-1).features).filter(v=>v!=="default")},ye.set(t,l)}catch(v){s(v)}r(l)})});h.on("error",function(o){s(o)}),h.end()}));async function Xs(t){return new Promise(function(e,r){let s=ye.get(t);if(s){e(s);return}var n=It.get(`${t}/config.json`,i=>{i.statusCode&&i.statusCode>=200&&i.statusCode<300&&i.headers["content-type"]==="application/json"?(ye.set(t,!0),e(!0)):(ye.set(t,!1),e(!1))}).on("error",i=>{r(i)});n.end()})}var Hs=ne(require("https")),zs=ne(vt()),Bs=new zs.default({stdTTL:60*10}),Ks=(t,e)=>(t=t.replace(/"/g,""),new Promise(function(r,s){let n=Bs.get(t);if(n){r(n);return}var i=Hs.get(`${e}/index/versions/${t}`,function(a){if(!a.statusCode){s(new Error("statusCode="+a.statusCode));return}if(a.statusCode<200||a.statusCode>=300)return s(new Error("statusCode="+a.statusCode));var h,o=[];a.on("data",function(l){o.push(l)}),a.on("end",function(){try{h=JSON.parse(Buffer.concat(o).toString()),Bs.set(t,h)}catch(l){s(l)}r(h)})});i.on("error",function(a){s(a)}),i.end()}));var Js=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function Sa(t,e){return t.indexOf(e)===-1?t.length:t.indexOf(e)}function Ws(t){let e=t.replace(/^v/,"").replace(/\+.*$/,""),r=Sa(e,"-"),s=e.substring(0,r).split(".");return s.push(e.substring(r+1)),s}function Aa(t){if(!Js.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function Ue(t,e){[t,e].forEach(Aa);let r=Ws(t),s=Ws(e),n=Math.max(r.length-1,s.length-1);for(let l=0;l<n;l++){var i=parseInt(r[l]||"0",10),a=parseInt(s[l]||"0",10);if(i>a)return 1;if(a>i)return-1}var h=r[r.length-1],o=s[s.length-1];if(h&&o){let l=h.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),c=o.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),u=Math.max(l.length,c.length);for(let f=0;f<u;f++){if(l[f]===void 0||typeof c[f]=="string"&&typeof l[f]=="number")return-1;if(c[f]===void 0||typeof l[f]=="string"&&typeof c[f]=="number"||l[f]>c[f])return 1;if(c[f]>l[f])return-1}}else if(h||o)return h?-1:1;return 0}var Ys=[">",">=","=","<","<="],Oa={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function La(t){if(typeof t!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(Ys.indexOf(t)===-1)throw new TypeError("Invalid operator, expected one of "+Ys.join("|"))}Ue.validate=function(t){return typeof t=="string"&&Js.test(t)};Ue.compare=function(t,e,r){La(r);var s=Ue(t,e);return Oa[r].indexOf(s)>-1};var Zs=Ue;var k=require("vscode");var P=require("vscode");var yt="abcdefghijklmnopqrstuvwxyz";function Tt(t){let e=Math.floor(t/yt.length),r=yt[t%yt.length];return"z".repeat(e)+r}var Xe=class{provideCompletionItems(e,r,s,n){if(!Te)return;let i=e.lineAt(r).text.match(Ot);if(i){let a=i[1]==="version"?Lt(e,r.line):i[1];if(!a)return;let h=i[7]??i[5],o=Qs(e,a,r);if(!o||!o.versions)return;let l=i[1].length+i[2].length+(i[3]?.length??0)+1,c=l+h.length;if(!new P.Range(new P.Position(r.line,l),new P.Position(r.line,c)).contains(r))return;if(h.trim().length!==0){let u=h.substr(0,l-r.character).toLowerCase(),f=new P.Range(new P.Position(r.line,l),new P.Position(r.line,c)),p=0;return new P.CompletionList((u.length>0?o.versions.filter(v=>v.toLowerCase().startsWith(u)):o.versions).map(v=>{let $=new P.CompletionItem(v,P.CompletionItemKind.Class);return $.range=f,$.preselect=p===0,$.sortText=Tt(p++),$}),!0)}else if(r.character!==c+1)return o.versionCompletionItems}}};async function en(t){let e=k.workspace.getConfiguration(""),r=!!e.get("crates.listPreReleases");var s=e.get("crates.indexServerURL")??xt,n;try{await Xs(s)?(console.log("Using sparse compatible index "+s),n=Rt):(console.log("Using cis index "+s),n=Ks)}catch(o){console.error(`Could not check index compatibility for url "${s}" (using sparse instead) : ${o}`),s=xt,n=Rt}T.setText("Loading","\u{1F440} Fetching "+s.replace(/^https?:\/\//,""));let i=ba(n,r,s),a=new Map,h=t.map(i);return[Promise.all(h),a]}function ba(t,e,r){return function(s){return t(s.key,r).then(n=>{let i=n.versions.reduce((l,c)=>(!e&&(c.indexOf("-alpha")!==-1||c.indexOf("-beta")!==-1||c.indexOf("-rc")!==-1||c.indexOf("-pre")!==-1)||l.push(c),l),[]).sort(Zs).reverse(),a=0,h=new k.CompletionList(i.map(l=>{let c=new k.CompletionItem(l,k.CompletionItemKind.Class);return c.preselect=a===0,c.sortText=Tt(a++),c}),!0),o=new Map;return n.features?.forEach(l=>{o.set(l,new k.CompletionList(n.features.map(c=>new k.CompletionItem(c,k.CompletionItemKind.Class))))}),{item:s,versions:i,versionCompletionItems:h,featureCompletionItems:o}}).catch(n=>(console.error(n),{item:s,error:s.key+": "+n}))}}function Ca(t){console.log("Parsing...");let e=Nt(t),r=Ct(e.values);return console.log("Parsed"),r}var tn,wt,Te;function Qs(t,e,r){let s=Te.get(e);if(s){if(s.length===1)return s[0];for(let n=0;n<s.length;n++)if(new rn.Range(t.positionAt(s[n].item.start+1),t.positionAt(s[n].item.end-1)).contains(r))return s[n]}}async function Na(t,e=!1,r=!0){let s=t.document.getText();try{if(T.setText("Loading","Parsing Cargo.toml"),tn=Ca(s),r||!wt||!Te){let n=await en(tn);wt=await n[0],Te=n[1]}Et(t,wt)}catch(n){console.error(n),T.setText("Error","Cargo.toml is not valid!"),re&&re.dispose()}}async function J(t){if(t){let{fileName:e}=t.document;e.toLocaleLowerCase().endsWith("cargo.toml")?(O.inProgress=!0,O.replaceItems=[],T.show(),await Na(t)):T.hide(),O.inProgress=!1}else console.log("No active editor found.");return Promise.resolve()}function Da(t){let e={language:"toml",pattern:"**/[Cc]argo.toml"};t.subscriptions.push(H.window.onDidChangeActiveTextEditor(J),H.workspace.onDidChangeTextDocument(r=>{let{fileName:s}=r.document;s.toLocaleLowerCase().endsWith("cargo.toml")&&(r.document.isDirty||J(H.window.activeTextEditor))}),H.languages.registerCompletionItemProvider(e,new Xe,"'",'"',".","+","-","0","1","2","3","4","5","6","7","8","9")),J(H.window.activeTextEditor),t.subscriptions.push(qt.replaceVersion)}function Pa(){}0&&(module.exports={activate,deactivate});
